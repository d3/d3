(function(){d3.layout={};
d3.layout.chord=function(){function v(){var a={},h=[],m=d3.range(f),k=[],l,d,t,c,e;g=[];i=[];l=0;for(c=-1;++c<f;){d=0;for(e=-1;++e<f;)d+=j[c][e];h.push(d);k.push(d3.range(f));l+=d}n&&m.sort(function(u,o){return n(h[u],h[o])});p&&k.forEach(function(u,o){u.sort(function(z,A){return p(j[o][z],j[o][A])})});l=(2*Math.PI-q*f)/l;d=0;for(c=-1;++c<f;){t=d;for(e=-1;++e<f;){var r=m[c],w=k[r][e],x=j[r][w];a[c+"-"+e]={index:r,subindex:w,startAngle:d,endAngle:d+=x*l,value:x}}i.push({index:r,startAngle:t,endAngle:d,
value:(d-t)/l});d+=q}for(c=-1;++c<f;)for(e=c-1;++e<f;){m=a[c+"-"+e];k=a[e+"-"+c];if(m.value||k.value)g.push({source:m,target:k})}s&&y()}function y(){g.sort(function(a,h){a=Math.min(a.source.value,a.target.value);h=Math.min(h.source.value,h.target.value);return s(a,h)})}var b={},g,i,j,f,q=0,n,p,s;b.matrix=function(a){if(!arguments.length)return j;f=(j=a)&&j.length;g=i=null;return b};b.padding=function(a){if(!arguments.length)return q;q=a;g=i=null;return b};b.sortGroups=function(a){if(!arguments.length)return n;
n=a;g=i=null;return b};b.sortSubgroups=function(a){if(!arguments.length)return p;p=a;g=null;return b};b.sortChords=function(a){if(!arguments.length)return s;s=a;g&&y();return b};b.chords=function(){g||v();return g};b.groups=function(){i||v();return i};return b};})()
