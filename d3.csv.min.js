(function(){function m(a){return a.map(n).join(",")}function n(a){return/[",\n]/.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}d3.csv=function(a,c){d3.text(a,"text/csv",function(d){c(d&&d3.csv.parse(d))})};d3.csv.parse=function(a){var c;return d3.csv.parseRows(a,function(d,j){if(j){for(var f={},g=-1,e=c.length;++g<e;)f[c[g]]=d[g];return f}else{c=d;return null}})};d3.csv.parseRows=function(a,c){function d(){if(e.lastIndex==a.length)return f;if(k){k=false;return j}var h=e.lastIndex;if(a.charCodeAt(h)==34){for(var b=
h;b++<a.length;)if(a.charCodeAt(b)==34){if(a.charCodeAt(b+1)!=34)break;b++}if(a.charCodeAt(b+1)==10)k=true;e.lastIndex=b+2;return a.substring(h+1,b).replace(/""/g,'"')}if(b=e.exec(a)){if(b[0]=="\n"||b[0]=="\r"||b[0]=="\r\n")k=true;return a.substring(h,b.index)}e.lastIndex=a.length;return a.substring(h)}for(var j={},f={},g=[],e=/\r\n|[,\r\n]/g,o=0,i,k;(i=d())!==f;){for(var l=[];i!==j&&i!==f;){l.push(i);i=d()}c&&!(l=c(l,o++))||g.push(l)}return g};d3.csv.format=function(a){return a.map(m).join("\n")}})();
